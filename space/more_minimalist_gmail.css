/**
 * More Minimalist Gmail userstyle
 * http://snarfed.org/more_minimalist_gmail
 * Ryan Barrett <more-minimalist-gmail@ryanb.org>
 *
 * Aggressively hides Gmail's UI and chrome, leaving only your email, labels, and
 * search box. Inspired by Matt Constantine's Minimalist Gmail,
 * http://mattconstantine.com/mg .
 *
 * Changelog:
 * 0.10 11/6/2011
 * - total overhaul for new gmail UI
 * 0.9 8/12/2011
 * - bug fix: don't hide notification bar
 * - show expand all button
 * 0.8.1 8/8/2011
 * - bug fix to individual contact view
 * 0.8 8/1/2011
 * Significant redesign to condense and improve usability, especially in smaller
 * or narrow browser windows.
 * - moved lsabels above conversation/thread view
 * - condensed top search box area
 * - made widths all auto so that everything follows your browser's width
 * - bug fix: don't hide To and CC labels in compose area
 * - hide new "Import mail & contacts" link
 * - hide Sent Mail and All Mail labels
 * selector fixes:
 * - logo
 * - re-hide stars
 * 0.7 5/13/2011
 * selector fixes:
 * - header/footer buttons in list and conversation view
 * - expand all and new window buttons in conversation view
 * - right side username in new top header
 * - ...and more!
 * 0.6 3/27/2011
 * - more selector updates to handle GMail updates
 * 0.5 3/23/2011
 * - update misc selectors to handle GMail updates, including the new top bar
 * 0.4 1/24/2011
 * - clean up main display: none selector list
 * - remove bottom commented section of selectors (does more harm than good)
 * - hide *all* list view buttons but still support mo(v)e and (l)abel keys
 * - hide ads on bottom of conversation view
 * - hide the google talk presence indicator
 * - re-hide stars in both list and conversation view
 * 0.3 11/12/2010
 * - show built in labels like Inbox, Drafts when they have unread messages
 * - show Move to Inbox button
 * - hide new top right header sections
 * 0.2
 * - show Settings link in upper right
 * - re-hide stars
 * 0.1
 * - initial release
 *
 * Note: sometimes buttons need to be displayed (ie not display: none) for their
 * keyboard shortcuts to work. in those cases, hide them with opacity: 0 instead.
 */

@namespace url(http://www.w3.org/1999/xhtml);

@-moz-document domain(mail.google.com) {


/* The primary list of things to hide.
 *
 * Note the use of the > child selector. The * universal selector is
 * *descendant*, ie any depth, not just direct child.
 */
div#gbx3, div#gbx4,       /* sandbar gray background */
div#gbz,                  /* sandbar left side links (Mail, Calendar, etc. */
ol.gbtc > li,             /* sandbar right side (settings button is special-cased below) */
div.Dg58Ge,               /* footer in most views*/
div.l2.ov.nH.oy8Mbf,      /* footer in compose view */
div#gbqfbw,               /* blue search button */
td.GcwpPb-Pkt3ef.GcwpPb-uq0Mrf, /* Search Mail, Search the Web buttons */
div.WkI4x.J-JN-I,         /* drop-down arrow in search box */
img.eNqR2d,               /* GMail logo (internal) */
div.GcwpPb-VArq.Rgky9,    /* GMail logo (external) */
div#gbpr,                 /* "Looking for more from Google?" bubble above logo */
div.b8.UC,                /* useless vertical padding below search box */

/* Left side */
.s8A0qe.pp,               /* container for big Mail/Contacts/Tasks drop down */
div.n6,                   /* "# more" link */
div.nL.CZtFXe,            /* per-label right side color square drop-down menus */
div.hF56D,                /* Compose button container */
div.MX,                   /* New Contact button */
div.LrBjie > div.TK > div,  /* Inbox, Sent Mail, Drafts */
div.T8uMgc,               /* chat buddy list */

/* List view */
div.D.E.VP5otc-pzeoBf, /* header and footer buttons (also applies to conv view) */
/* div.VP5otc-HT6HAf.J-J5-Ji, */
td.mgpAx,                 /* vertically shrink header/footer gray bar; external */
div.vpUyzb.J-J5-Ji,       /* header: "1-10 of 100" */
img.tk3N6e-KT-JX,         /* per thread stars */

/* Conversation view */
div.VP5otc-HT6HAf.J-J5-Ji,             /* header buttons */
div.GAvrIe,                            /* next/prev thread, settings buttons */
div.f6,                                /* "xxx is not available to chat" */
table.Bs.nH.iY td.Bu:nth-child(2),     /* right side pane */
table.Bs.nH.iY td.Bu:nth-child(3),     /*   (ads, etc.) */
div.hj > div.hk,                       /* expand all and new window buttons */
div.OH0apf,                            /* in-message ads */

/* Reply, Reply all, Forward links below each message
 * can't hide these because the r, a, etc. key bindings depend on them. */
/* div.gA.gt, */

/* Compose area */
td.fA,              /* Check Spelling link */
span.es.el,         /* Rich formatting link */
td.eF > span.b2,    /* Insert span in Insert Invitation */
td.eF > span.el.ou, /* Invitation link in Insert Invitation */
div.eh,             /* top buttons (Send, Save Now, Discard, ...) */

noop_end_selector_list
{
  display: none !important;
}

/* A whitelist of exceptions that shouldn't be hidden.
 */
div.LrBjie > div.TK > div.TO > div.TN .nU.n1,  /* Inbox, Drafts *when they have messages* */
ol.gbtc > li:last-child,      /* top-level header settings button */
div.hj > div.hk:nth-child(3), /* expand all button */
div.VP5otc-pzeoBf > div.eh,   /* top buttons in compose new message */
noop_end_selector {
  display: inline !important;
}

/* Top level container and search box (first selector), labels and
 * message/conversation view containers (second selector). This removes the
 * minimum widths and makes them adjust to the * browser's width.
 */
div.nH.oy8Mbf.nn.VKRe2c,  /* labels container */
body > div > div.nH,      /* outer container and search box */
body > div > div.nH > div.nH > div.nH > div.no > div.nH.nn,  /* content container */
div.nH.NUxIad.bsvFKf      /* contact content container */
{
  width: auto !important;
  height: auto !important;
}

/* Labels container */
div.uxFfPb.bgi53d {
  display: inline !important;
}

/* show labels horizontally (inline) */
div.n3 * {
  display: inline !important;
}

/* vertical space below labels */
div.n3 {
  margin-bottom: 1em !important;
}

/* hide bottom borders of top header and search box header */
div#gbx1, div#gbx2, div#gbx3, div#gbx4, div.nH.GcwpPb-Z8OBDd {
  border: none !important;
}

/* hide lines between each thread in list view */
td.xY {
  border-bottom: none !important;
}

/* hide mouseover "grip" image left of each conversation */
td.oZ-x3.xY {
  background-image: none !important;
}
}
