/**
 * More Minimalist Gmail userstyle
 * http://snarfed.org/more_minimalist_gmail
 * Ryan Barrett <more-minimalist-gmail@ryanb.org>
 *
 * Aggressively hides Gmail's UI and chrome, leaving only your email, labels, and
 * search box. Inspired by Matt Constantine's Minimalist Gmail,
 * http://mattconstantine.com/mg .
 *
 * Changelog:
 * 0.6 3/27/2011
 * - more selector updates to handle GMail updates
 * 0.5 3/23/2011
 * - update misc selectors to handle GMail updates, including the new top bar
 * 0.4 1/24/2011
 * - clean up main display: none selector list
 * - remove bottom commented section of selectors (does more harm than good)
 * - hide *all* list view buttons but still support mo(v)e and (l)abel keys
 * - hide ads on bottom of conversation view
 * - hide the google talk presence indicator
 * - re-hide stars in both list and conversation view
 * 0.3 11/12/2010
 * - show built in labels like Inbox, Drafts when they have unread messages
 * - show Move to Inbox button
 * - hide new top right header sections
 * 0.2
 * - show Settings link in upper right
 * - re-hide stars
 * 0.1
 * - initial release
 *
 * Note: sometimes buttons need to be displayed (ie not display: none) for their
 * keyboard shortcuts to work. in those cases, hide them with opacity: 0 instead.
 */

@namespace url(http://www.w3.org/1999/xhtml);

@-moz-document domain(mail.google.com) {


/* The primary list of things to hide.
 *
 * Note the use of the > child selector. The * universal selector is
 * *descendant*, ie any depth, not just direct child.
 */
div#gbar,                 /* left header (Gmail Calendar Documents ...) */
div#guser > nobr > *,     /* right header elements (user, settings, sign out) */
div.nH.l2.ov,             /* footer */
td.GcwpPb-Pkt3ef.GcwpPb-uq0Mrf, /* Search Mail, Search the Web buttons (internal) */
td.w-aks.w-akr,                 /* Search Mail, Search the Web buttons (external) */
td.GcwpPb-Pkt3ef.GcwpPb-txTtjf, /* Show search options, Create a filter links (internal) */
td.w-aks.w-aku,                 /* Show search options, Create a filter links (external) */

/* Left side */
div.GcwpPb-VArq.Z4b7Xb,   /* GMail logo (internal) */
div.w-akc.Rgky9,          /* GMail logo (external) */
div.n6,                   /* # more labels drop-down */
div.T0.pp,                /* Chat link */
div.CX.pp,                /* Mail, Contacts links */
div.T4.pp,                /* Tasks link */
div.z0,                   /* Compose mail button */
div.LrBjie > div.TK > div.TO > div.TN > .nU,  /* Inbox, Sent Mail, Drafts */

/* List view */
div.nH.Cq > div:first-child > div:first-child > *, /* header and footer buttons */
div.nH.vpUyzb.Cr,         /* header: "1-10 of 100" (internal) */
div.nH.ajU.Cr,            /* header: "1-10 of 100" (external) */
img.EqK8f,                /* per thread stars (internal) */
img.aef,                  /* per thread stars (external) */

/* Conversation view */
div.iH > div:first-child > *, /* header and footer buttons */
div.iG,                   /* header and footer: "1-10 of 100, Older >" */
div.f6,                   /* "xxx is not available to chat" */
span.lHQn1d,              /* per message stars */
div.J-Zh-I.J-J5-Ji.J-Zh-I-Js-Zj.GZ.L3, /* top right, per-message inline Reply button */
table.Bs.nH.iY td.Bu:nth-child(2),     /* right side pane */
table.Bs.nH.iY td.Bu:nth-child(3),     /*   (ads, etc.) */

/* Reply, Reply all, Forward links below each message
 * can't hide these because the r, a, etc. key bindings depend on them. */
/* div.gA.gt, */

/* Compose area */
span.jNNpPe,             /* formatting toolbar */
td.fA,                   /* Check Spelling link */
span.es.el,              /* Rich formatting link */
span.b2,                 /* Insert span in Insert Invitation */
span.el.ou,              /* Invitation link in Insert Invitation */
div.eh,                  /* top buttons (Send, Save Now, Discard, ...) */

div#gbz,                     /* redacted (ES) */
ol.gbtc > li:nth-child(2),
li.gbt.gbtb,

/* bottom buttons (Send, Save Now, Discard)
 * can't hide these because tab-enter to send, tab-tab-tab enter to discard,
 * etc. depend on them. */
/* div.CoUvaf, */

noop_end_selector_list
{
  display: none !important;
}


/* A whitelist of exceptions that shouldn't be hidden.
 */
div#guser > nobr > a[href="https://mail.google.com/mail/u/0/?ui=2&shva=1#settings"], /* Settings link */
div.LrBjie > div.TK > div.TO > div.TN > .nU.n1,  /* Inbox, Sent Mail, Drafts *when they have messages* */
noop_end_selector {
  display: inline !important;
}


/* Settings link */
div#guser > nobr > a[href="https://mail.google.com/mail/u/0/?ui=2&shva=1#settings"] {
  opacity: .2 !important;
}

#gb, #gbx1, #gbx2, #gbx3, #gbx4, .gbvt, .gbgt, .gbtcb, .gbtb2, .gbmc, .gbts, #gbs {
  background-color: transparent !important;
  border: none !important;
}

#gbx1, #gbx2, #gbx3, #gbx4 {
  background-image: none !important;
}

/* lines between each thread in list view */
td.xY {
  border-bottom: none !important;
}

/* "grip" image left of each conversation, for drag and drop */
td.oZ-x3.xY {
  background-image: none !important;
}

/* highlighted background to show which one is currently viewed. only do that for my own labels. */
div.LrBjie div.TK div.TO.nZ {
  background-color: transparent !important;
}

}
